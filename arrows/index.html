<!DOCTYPE html>
<html>
<body>
<canvas id="myCanvas" width="500" height="300" style="border:1px solid #000000;"></canvas>
<script>
const canvas = document.getElementById('myCanvas');
const ctx = canvas.getContext('2d');

let circles = [
  { x: 100, y: 150, r: 40, color: 'lightblue' },
  { x: 400, y: 150, r: 40, color: 'lightgreen' }
];

let dragging = null;

function draw() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  // Draw circles
  circles.forEach(c => {
    ctx.beginPath();
    ctx.arc(c.x, c.y, c.r, 0, 2 * Math.PI);
    ctx.fillStyle = c.color;
    ctx.fill();
    ctx.stroke();
  });

  // Draw curved connector (quadratic curve)
  ctx.beginPath();
  ctx.moveTo(circles[0].x + circles[0].r, circles[0].y);
  const controlX = (circles[0].x + circles[1].x) / 2;
  const controlY = Math.min(circles[0].y, circles[1].y) - 50;
  ctx.quadraticCurveTo(controlX, controlY, circles[1].x - circles[1].r, circles[1].y);
  ctx.strokeStyle = 'red';
  ctx.lineWidth = 3;
  ctx.stroke();
}

draw();

canvas.addEventListener('mousedown', e => {
  const rect = canvas.getBoundingClientRect();
  const mouseX = e.clientX - rect.left;
  const mouseY = e.clientY - rect.top;
  circles.forEach((c, i) => {
    const dx = mouseX - c.x;
    const dy = mouseY - c.y;
    if (dx * dx + dy * dy <= c.r * c.r) {
      dragging = i;
    }
  });
});

canvas.addEventListener('mousemove', e => {
  if (dragging !== null) {
    const rect = canvas.getBoundingClientRect();
    circles[dragging].x = e.clientX - rect.left;
    circles[dragging].y = e.clientY - rect.top;
    draw();
  }
});

canvas.addEventListener('mouseup', e => {
  dragging = null;
});

canvas.addEventListener('mouseleave', e => {
  dragging = null;
});
</script>
</body>
</html>
